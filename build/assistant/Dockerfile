FROM ghcr.io/open-webui/open-webui:0.6.28-slim

LABEL maintainer="Alberto Gac√≠as <alberto@migasfree.org>"

ARG TAG=latest

ENV TAG=${TAG} \
    RUNTIME_DEPENDS='tzdata' \
    USE_EMBEDDING_MODEL_DOCKER=''

COPY VERSION /VERSION

COPY defaults/docker-entrypoint.sh /docker-entrypoint.sh

COPY defaults/usr /usr

COPY defaults/healthcheck.sh /healthcheck.sh

HEALTHCHECK --start-period=120s --interval=60s --timeout=3s CMD /healthcheck.sh || exit 1

ENTRYPOINT ["/docker-entrypoint.sh"]